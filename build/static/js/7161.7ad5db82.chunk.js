"use strict";(self.webpackChunkaqar_super_admin=self.webpackChunkaqar_super_admin||[]).push([[7161],{2203:(e,l,a)=>{a.d(l,{AR:()=>x,BA:()=>v,EV:()=>r,G3:()=>g,Vn:()=>c,Wn:()=>m,Zm:()=>s,_H:()=>p,cz:()=>h,dK:()=>b,hS:()=>d,jE:()=>f,kR:()=>N,nn:()=>y,tk:()=>u,vs:()=>j});var i=a(8556),n=a(3713),t=a(6491),o=a(2564);const r=async()=>{const{data:e}=await t.Z.get("/agencies/admin/profile");return e.data.user||[]},s=async()=>{const{data:e}=await t.Z.get("/add-types/");return e.data.adTypes||[]},d=async()=>{const{data:e}=await t.Z.get("/locations/emirates");return e.data.emirates||[]},u=async()=>{const{data:e}=await t.Z.get("/stats/dashboard");return e.data||[]},c=()=>(0,i.D)({mutationFn:async e=>(await t.Z.post("/files/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data,onError:e=>{var l;const a=(null===(l=e.response)||void 0===l?void 0:l.errors[0])||"Upload failed. Please try again.";o.Am.error(a),console.error("Upload failed:",e)}}),v=()=>(0,i.D)({mutationFn:async e=>(await t.Z.post("/files/upload/single/video",e,{headers:{"Content-Type":"multipart/form-data"}})).data,onError:e=>{var l;const a=(null===(l=e.response)||void 0===l?void 0:l.errors[0])||"Upload failed. Please try again.";o.Am.error(a),console.error("Upload failed:",e)}}),m=()=>(0,i.D)({mutationFn:async e=>(await t.Z.put("/agencies/admin/profile",e)).data,onError:e=>{var l,a;const i=null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0];o.Am.error(i),console.error("Submission failed:",e)}}),p=()=>{const e=(0,n.NL)();return(0,i.D)({mutationFn:async e=>{let{id:l,visibility:a}=e;return(await t.Z.post("/properties/admin/set-visibility/".concat(l),{visibility:a})).data},onSuccess:()=>{o.Am.success("Visibility updated successfully!"),e.invalidateQueries("PropertiesAdmin")},onError:e=>{var l,a;const i=(null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0])||"An error occurred.";o.Am.error(i),console.error("Submission failed:",e)}})},b=async()=>{const{data:e}=await t.Z.get("/property-properties/types");return e.data.properties||[]},g=async()=>{const{data:e}=await t.Z.get("/properties/admin/my-properties");return e.data.properties||[]},f=async e=>{const{data:l}=await t.Z.get("/properties/admin/".concat(e));return l.data.property||[]},y=()=>(0,i.D)({mutationFn:async e=>(await t.Z.post("/properties/admin",e)).data,onError:e=>{var l,a;const i=(null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0])||"Submission failed. Please try again.";o.Am.error(i),console.error("Submission failed:",e)}}),h=e=>(0,i.D)({mutationFn:async l=>(await t.Z.put("/properties/admin/".concat(e),l)).data,onError:e=>{var l,a;const i=(null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0])||"Submission failed. Please try again.";o.Am.error(i),console.error("Submission failed:",e)}}),j=()=>(0,i.D)({mutationFn:async e=>(await t.Z.get("/subscriptions/ad-type/".concat(e))).data.data.subscriptions,onError:e=>{var l,a;const i=(null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0])||"Submission failed. Please try again.";o.Am.error(i),console.error("Submission failed:",e)}}),x=()=>(0,i.D)({mutationFn:async e=>(await t.Z.post("/property-subscriptions/admin",e)).data.data,onError:e=>{var l,a;const i=(null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errors[0])||"Submission failed. Please try again.";o.Am.error(i),console.error("Submission failed:",e)}}),N=async e=>(await t.Z.get("/locations/choose-location?query=".concat(e))).data.data.hits},7161:(e,l,a)=>{a.r(l),a.d(l,{default:()=>d});a(2791);var i=a(4420),n=a(4893),t=a(2203),o=a(7689),r=a(184);const s=e=>{let{label:l,value:a,isActive:i,isBinary:n}=e;const t=n?i?"active":"noactive":"";return(0,r.jsxs)("div",{className:" flex align-items-center w-100 justify-content-between gap-3",children:[(0,r.jsx)("h5",{children:l}),(0,r.jsx)("h6",{className:t,children:a})]})},d=()=>{var e,l,a,d,u,c,v,m,p,b,g,f,y,h,j,x,N,w,E,A,S,P,k,C,Z,D,_;const{id:R}=(0,o.UO)(),{data:T}=(0,n.a)({queryKey:["PropertiesDetails",R],queryFn:()=>(0,t.jE)(R),enabled:!!R});return(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsxs)("div",{className:"grid info_details",children:[(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)(s,{label:"Name (EN)",value:null===T||void 0===T||null===(e=T.title)||void 0===e?void 0:e.en}),(0,r.jsx)(s,{label:"Name (AR)",value:null===T||void 0===T||null===(l=T.title)||void 0===l?void 0:l.ar}),(0,r.jsx)(s,{label:"Purpose (EN)",value:null===T||void 0===T||null===(a=T.purpose)||void 0===a||null===(d=a.name)||void 0===d?void 0:d.en}),(0,r.jsx)(s,{label:"Purpose (AR)",value:null===T||void 0===T||null===(u=T.purpose)||void 0===u||null===(c=u.name)||void 0===c?void 0:c.ar}),(0,r.jsx)(s,{label:"Category",value:null===T||void 0===T||null===(v=T.category)||void 0===v||null===(m=v.name)||void 0===m?void 0:m.en}),(0,r.jsx)(s,{label:"Commercial Properties",value:null===T||void 0===T||null===(p=T.commercialProperties)||void 0===p||null===(b=p.name)||void 0===b?void 0:b.en}),(0,r.jsx)(s,{label:"Price",value:"".concat(null===T||void 0===T?void 0:T.price," ").concat(null===T||void 0===T||null===(g=T.currency)||void 0===g||null===(f=g.name)||void 0===f?void 0:f.en)}),(0,r.jsx)(s,{label:"Property Type",value:null===T||void 0===T||null===(y=T.type)||void 0===y||null===(h=y.name)||void 0===h?void 0:h.en}),(0,r.jsx)(s,{label:"Description (EN)",value:null===T||void 0===T||null===(j=T.description)||void 0===j?void 0:j.en}),(0,r.jsx)(s,{label:"Description (AR)",value:null===T||void 0===T||null===(x=T.description)||void 0===x?void 0:x.ar}),(0,r.jsx)(s,{label:"Customer Payment Method",value:null===T||void 0===T||null===(N=T.customerPaymentMethod)||void 0===N||null===(w=N.name)||void 0===w?void 0:w.en})]})}),(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)(s,{label:"Measurement Unit",value:null===T||void 0===T||null===(E=T.measurement)||void 0===E||null===(A=E.name)||void 0===A?void 0:A.en}),(0,r.jsx)(s,{label:"Advertiser Type",value:null===T||void 0===T||null===(S=T.advertiserType)||void 0===S||null===(P=S.name)||void 0===P?void 0:P.en}),(0,r.jsx)(s,{label:"Ready",value:null!==T&&void 0!==T&&T.ready?"Yes":"No",isActive:null===T||void 0===T?void 0:T.ready,isBinary:!0}),(0,r.jsx)(s,{label:"Visible",value:null!==T&&void 0!==T&&T.visible?"Yes":"No",isActive:null===T||void 0===T?void 0:T.visible,isBinary:!0}),(0,r.jsx)(s,{label:"Created At",value:null===T||void 0===T?void 0:T.createdAt}),(0,r.jsx)(s,{label:"Updated At",value:null===T||void 0===T?void 0:T.updatedAt}),(0,r.jsx)(s,{label:"Views",value:null===T||void 0===T?void 0:T.views}),(0,r.jsx)(s,{label:"Last Viewed",value:new Date(null===T||void 0===T?void 0:T.lastViewed).toLocaleString()}),(0,r.jsx)(s,{label:"SMS Attempts",value:null===T||void 0===T?void 0:T.smsAttempts}),(0,r.jsx)(s,{label:"Sharings",value:null===T||void 0===T?void 0:T.sharings}),(0,r.jsx)(s,{label:"Call Attempts",value:null===T||void 0===T?void 0:T.callAttempts}),(0,r.jsx)(s,{label:"Favourite Attempts",value:null===T||void 0===T?void 0:T.favouriteAttempts}),(0,r.jsx)(s,{label:"WhatsApp Attempts",value:null===T||void 0===T?void 0:T.whatsappAttempts})]})}),(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)(s,{label:"Rooms",value:null===T||void 0===T?void 0:T.rooms}),(0,r.jsx)(s,{label:"Bathrooms",value:null===T||void 0===T?void 0:T.bathrooms}),(0,r.jsx)(s,{label:"Mortgage Eligible",value:null!==T&&void 0!==T&&T.mortgageEligible?"Yes":"No",isActive:null===T||void 0===T?void 0:T.mortgageEligible,isBinary:!0}),(0,r.jsx)(s,{label:"Furnished",value:null!==T&&void 0!==T&&T.furnished?"Yes":"No",isActive:null===T||void 0===T?void 0:T.furnished,isBinary:!0}),(0,r.jsx)(s,{label:"Subscription",value:null!==T&&void 0!==T&&T.activeSubscription?"Yes":"No",isActive:null===T||void 0===T?void 0:T.activeSubscription,isBinary:!0}),(0,r.jsx)(s,{label:"Floors",value:null===T||void 0===T?void 0:T.floors}),(0,r.jsx)(s,{label:"Space (m\xb2)",value:null===T||void 0===T?void 0:T.space}),(0,r.jsx)(s,{label:"Location",value:null===T||void 0===T||null===(k=T.location)||void 0===k?void 0:k.map((e=>e.name.en)).join(", ")}),(0,r.jsx)(s,{label:"Amenities",value:null===T||void 0===T||null===(C=T.amenities)||void 0===C?void 0:C.map((e=>e.name.en)).join(", ")}),(0,r.jsx)(s,{label:"Virtual Tour",value:(0,r.jsx)("a",{href:null===T||void 0===T?void 0:T.tour,target:"_blank",rel:"noopener noreferrer",children:"View Tour"})})]})}),(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)("h3",{children:"Subscriptions"}),null===T||void 0===T||null===(Z=T.subscriptions)||void 0===Z?void 0:Z.map((e=>{var l;return(0,r.jsxs)("div",{className:"w-100",children:[null===e||void 0===e||null===(l=e.subscription)||void 0===l?void 0:l.map((e=>{var l;return(0,r.jsxs)("div",{className:"flex d-flex-column w-100 gap-3",children:[(0,r.jsx)(s,{label:"Name",value:null===e||void 0===e||null===(l=e.name)||void 0===l?void 0:l.en}),(0,r.jsx)(s,{label:"Price",value:null===e||void 0===e?void 0:e.price})]},null===e||void 0===e?void 0:e._id)})),(0,r.jsx)(s,{label:"Start Date",value:null===e||void 0===e?void 0:e.startDate}),(0,r.jsx)(s,{label:"End Date",value:null===e||void 0===e?void 0:e.endDate}),(0,r.jsx)(s,{label:"Total Price",value:null===e||void 0===e?void 0:e.price}),(0,r.jsx)(s,{label:"Active",value:null!==e&&void 0!==e&&e.active?"Active":"No Active",isActive:null===e||void 0===e?void 0:e.active,isBinary:!0})]},null===e||void 0===e?void 0:e._id)}))]})}),(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)("h3",{children:"Images"}),(0,r.jsx)("div",{className:"images-container pt-4",children:(null===T||void 0===T||null===(D=T.images)||void 0===D?void 0:D.length)>0?T.images.map(((e,l)=>(0,r.jsx)(i.E,{src:null===e||void 0===e?void 0:e.link,alt:"Property image ".concat(l+1),className:"property-thumbnail",width:"150",height:"150",preview:!0},null===l||void 0===l?void 0:l.link))):(0,r.jsx)("span",{children:"No Images Available"})})]})}),(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6 pb-4",children:(0,r.jsxs)("div",{className:"title_page",children:[(0,r.jsx)("h3",{children:"Videos"}),(0,r.jsx)("div",{className:"grid w-100 video-container",children:(null===T||void 0===T||null===(_=T.videos)||void 0===_?void 0:_.length)>0?T.videos.map(((e,l)=>(0,r.jsx)("div",{className:"col-12 md:col-6 lg:col-6",children:(0,r.jsx)("video",{src:e,controls:!0,width:"100%",className:"video-player",children:"Your browser does not support the video tag."})},l))):(0,r.jsx)("span",{children:"No Videos Available"})})]})})]})})}},4420:(e,l,a)=>{a.d(l,{E:()=>m});var i=a(2791),n=a(7890),t=a(5106),o=a(2062),r=a(9022),s=a(5854);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},d.apply(this,arguments)}function u(e,l){(null==l||l>e.length)&&(l=e.length);for(var a=0,i=new Array(l);a<l;a++)i[a]=e[a];return i}function c(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,t,o,r=[],s=!0,d=!1;try{if(t=(a=a.call(e)).next,0===l){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=t.call(a)).done)&&(r.push(i.value),r.length!==l);s=!0);}catch(u){d=!0,n=u}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(d)throw n}}return r}}(e,l)||function(e,l){if(e){if("string"===typeof e)return u(e,l);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,l):void 0}}(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v={defaultProps:{__TYPE:"Image",alt:null,className:null,downloadable:!1,height:null,imageClassName:null,imageStyle:null,onError:null,onHide:null,onShow:null,preview:!1,src:null,template:null,width:null,zoomSrc:null,children:void 0},getProps:function(e){return s.gb.getMergedProps(e,v.defaultProps)},getOtherProps:function(e){return s.gb.getDiffProps(e,v.defaultProps)}},m=i.memo(i.forwardRef((function(e,l){var a=v.getProps(e),u=c(i.useState(!1),2),m=u[0],p=u[1],b=c(i.useState(!1),2),g=b[0],f=b[1],y=c(i.useState(0),2),h=y[0],j=y[1],x=c(i.useState(1),2),N=x[0],w=x[1],E=i.useRef(null),A=i.useRef(null),S=i.useRef(null),P=i.useRef(null),k=i.useRef(!1),C=function(){a.preview&&(p(!0),setTimeout((function(){f(!0)}),25))},Z=function(){k.current||(f(!1),j(0),w(1)),k.current=!1},D=function(){k.current=!0},_=function(){var e=a.alt,l=a.src;s.p7.saveAs({name:e,src:l}),k.current=!0},R=function(){j((function(e){return e+90})),k.current=!0},T=function(){j((function(e){return e-90})),k.current=!0},F=function(){w((function(e){return e+.1})),k.current=!0},O=function(){w((function(e){return e-.1})),k.current=!0},I=function(){s.P9.set("modal",S.current,n.ZP.autoZIndex,n.ZP.zIndex.modal)},V=function(){a.onShow&&a.onShow()},B=function(){s.p7.addClass(S.current,"p-component-overlay-leave")},U=function(){a.onHide&&a.onHide()},q=function(){s.P9.clear(S.current),p(!1)};(0,o.zq)((function(){S.current&&s.P9.clear(S.current)}));i.useImperativeHandle(l,(function(){return{props:a,show:C,hide:Z,getElement:function(){return E.current},getImage:function(){return A.current}}}));var M=a.src,Y=a.alt,z=a.width,H=a.height,K=v.getOtherProps(a),L=(0,s.AK)("p-image p-component",a.className,{"p-image-preview-container":a.preview}),J=function(){var e=a.downloadable,l={transform:"rotate("+h+"deg) scale("+N+")"},o=N<=.5||N>=1.5;return i.createElement("div",{ref:S,className:"p-image-mask p-component-overlay p-component-overlay-enter",onClick:Z},i.createElement("div",{className:"p-image-toolbar"},e&&i.createElement("button",{className:"p-image-action p-link",onClick:_,type:"button"},i.createElement("i",{className:"pi pi-download"})),i.createElement("button",{className:"p-image-action p-link",onClick:R,type:"button"},i.createElement("i",{className:"pi pi-refresh"})),i.createElement("button",{className:"p-image-action p-link",onClick:T,type:"button"},i.createElement("i",{className:"pi pi-undo"})),i.createElement("button",{className:"p-image-action p-link",onClick:O,type:"button",disabled:o},i.createElement("i",{className:"pi pi-search-minus"})),i.createElement("button",{className:"p-image-action p-link",onClick:F,type:"button",disabled:o},i.createElement("i",{className:"pi pi-search-plus"})),i.createElement("button",{className:"p-image-action p-link",type:"button","aria-label":(0,n.qJ)("close")},i.createElement("i",{className:"pi pi-times"}))),i.createElement(t.K,{nodeRef:P,classNames:"p-image-preview",in:g,timeout:{enter:150,exit:150},unmountOnExit:!0,onEntering:I,onEntered:V,onExit:B,onExiting:U,onExited:q},i.createElement("div",{ref:P},i.createElement("img",{src:a.zoomSrc||a.src,className:"p-image-preview",style:l,onClick:D,alt:a.alt}))))}(),W=a.template?s.gb.getJSXElement(a.template,a):i.createElement("i",{className:"p-image-preview-icon pi pi-eye"}),G=a.preview?i.createElement("div",{className:"p-image-preview-indicator",onClick:C},W):null,Q=a.src&&i.createElement("img",{ref:A,src:M,className:a.imageClassName,width:z,height:H,style:a.imageStyle,alt:Y,onError:a.onError});return i.createElement("span",d({ref:E,className:L},K),Q,G,m&&i.createElement(r.h,{element:J,appendTo:document.body}))})));m.displayName="Image"}}]);
//# sourceMappingURL=7161.7ad5db82.chunk.js.map