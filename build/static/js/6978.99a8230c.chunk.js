"use strict";(self.webpackChunkaqar_super_admin=self.webpackChunkaqar_super_admin||[]).push([[6978],{6978:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(5343),l=s(1063),i=s(6951),r=s(2791),n=s(9434),c=s(7425),_=s(4866),d=s(4082),u=s(3853),o=s(5705),b=s(4286),m=s(9025),h=s(5854),T=s(184);const p=()=>{const e=(0,n.I0)(),a=(0,r.useRef)(null),{NewsletterData:s}=(0,n.v9)((e=>e.ContactSlice)),[p,j]=(0,r.useState)(0),[v,g]=(0,r.useState)(10),[x,S]=(0,r.useState)(""),[N,f]=(0,r.useState)(!1);(0,r.useEffect)((()=>{e((0,d.kM)())}),[e]);const y=(0,r.useCallback)((async s=>{try{await e((0,d.SV)(s)).unwrap(),a.current.show({severity:"success",summary:"Deleted",detail:"Contact deleted successfully"}),e((0,d.kM)())}catch(t){a.current.show({severity:"error",summary:"Error",detail:t.message})}}),[e]),w=(0,r.useCallback)((e=>{S(e),f(!0)}),[]),C=(0,o.TA)({enableReinitialize:!0,initialValues:{subject:""},validate:e=>{const a={};return e.subject||(a.subject="Subject is required."),a},onSubmit:async(s,t)=>{let{resetForm:l}=t;const i={subject:s.subject,body:x};try{await e((0,d.Gu)(i)).unwrap(),a.current.show({severity:"success",summary:"Success",detail:"Newsletter sent successfully"}),l(),f(!1)}catch(r){a.current.show({severity:"error",summary:"Error",detail:r.message})}}}),k=e=>!(!C.touched[e]||!C.errors[e]),D=(0,r.useCallback)((e=>(0,T.jsxs)("div",{className:"StatusBtn",children:[(0,T.jsx)("button",{className:"edite_btn",onClick:()=>w(e.email),children:(0,T.jsx)(u.LbG,{})}),(0,T.jsx)("button",{className:"del_btn",onClick:()=>y(e.id),children:(0,T.jsx)(c.GnT,{})})]})),[y,w]);return(0,T.jsxs)("div",{className:"container-fluid",children:[(0,T.jsx)(_.F,{ref:a}),(0,T.jsx)("div",{className:"title_page",children:(0,T.jsx)("h3",{children:"Newsletter"})}),(0,T.jsx)("div",{className:"Table_container",children:(0,T.jsx)("div",{className:i.Z.Table,id:"tableFirstItemStart",children:(0,T.jsxs)(t.w,{value:s||[],dataKey:"id",first:p,paginator:!0,rows:v,rowsPerPageOptions:[5,10,20,50],onPage:e=>{j(e.first),g(e.rows)},className:i.Z.dataTable,responsiveLayout:"scroll",stripedRows:!0,emptyMessage:"No data",totalRecords:(null===s||void 0===s?void 0:s.length)||0,children:[(0,T.jsx)(l.s,{field:"email",header:"Email"}),(0,T.jsx)(l.s,{header:"Action",body:D,style:{maxWidth:"10rem"}})]})})}),(0,T.jsx)(b.V,{visible:N,style:{width:"50vw"},onHide:()=>f(!1),children:(0,T.jsxs)("form",{onSubmit:C.handleSubmit,children:[(0,T.jsx)("div",{className:"grid",children:(0,T.jsx)("div",{className:"col-12",children:(0,T.jsxs)("div",{className:i.Z.inputFormik2,children:[(0,T.jsxs)("div",{className:i.Z.Signup_container,children:[(0,T.jsx)("label",{htmlFor:"subject",children:"Subject"}),(0,T.jsx)(m.o,{id:"subject",name:"subject",className:(0,h.AK)({"p-invalid":k("subject")}),value:C.values.subject,onChange:e=>C.setFieldValue("subject",e.target.value)})]}),(B="subject",k(B)?(0,T.jsx)("small",{className:"p-error",children:C.errors[B]}):(0,T.jsx)("small",{className:"p-error",children:"\xa0"}))]})})}),(0,T.jsx)("div",{className:"form-actions",children:(0,T.jsx)("button",{type:"submit",className:"add_btn mx-auto",children:"Save"})})]})})]});var B}},6951:(e,a,s)=>{s.d(a,{Z:()=>t});const t={edit_img:"Tabel_edit_img__mG3SK",head_edit_img:"Tabel_head_edit_img__Ap78D",imageColumn:"Tabel_imageColumn__fDVil",Tabel:"Tabel_Tabel__zsnKH",dataTabel:"Tabel_dataTabel__iWPvG",TB_Content:"Tabel_TB_Content__ar6JL",TabelButtonChar:"Tabel_TabelButtonChar__r-TJf",TabelButton:"Tabel_TabelButton__f+SKu",approve:"Tabel_approve__MHhAs",Cancel:"Tabel_Cancel__dibA7",Edite:"Tabel_Edite__apal0",addBTN:"Tabel_addBTN__-FNUY",Dialog_Div:"Tabel_Dialog_Div__Q6a9h",change_store_image:"Tabel_change_store_image__K1TN8",InputSec:"Tabel_InputSec__D7VSx",numberInput:"Tabel_numberInput__xEeqB",header:"Tabel_header__KjHHr",tabel_header:"Tabel_tabel_header__anU1r",MapLocation:"Tabel_MapLocation__PVtgp",loc:"Tabel_loc__lxo-f",map_p:"Tabel_map_p__Lc4IR",Signup_container:"Tabel_Signup_container__Z+mdA",Dialog_Signup_container:"Tabel_Dialog_Signup_container__+Vomx",Signup_form_container:"Tabel_Signup_form_container__+u3fP"}}}]);
//# sourceMappingURL=6978.99a8230c.chunk.js.map